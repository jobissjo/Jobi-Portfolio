<div class="section" id="contact" [ngClass]="{'dark-mode-color': darkMode}">
  <div class="container">
    <div class="section-header text-center mb-5">
      <h1 class="size-50 animate__animated animate__backInDown">Get In Touch</h1>
      <p class="subtitle animate__animated animate__fadeInUp">Let's work together or simply have a chat</p>
    </div>

    <div class="contact-wrapper">
      <!-- Contact Form -->
      <div class="contact-form-container animate__animated animate__fadeInLeft">
        <h3>Send a Message</h3>
        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label for="name">Your Name</label>
            <input type="text" id="name" formControlName="name" placeholder="John Doe"
              [class.error]="contactForm.get('name')?.invalid && contactForm.get('name')?.touched">
          </div>

          <div class="form-group">
            <label for="email">Your Email</label>
            <input type="email" id="email" formControlName="email" placeholder="john@example.com"
              [class.error]="contactForm.get('email')?.invalid && contactForm.get('email')?.touched">
          </div>

          <div class="form-group">
            <label for="subject">Subject</label>
            <input type="text" id="subject" formControlName="subject" placeholder="Project Inquiry"
              [class.error]="contactForm.get('subject')?.invalid && contactForm.get('subject')?.touched">
          </div>

          <div class="form-group">
            <label for="message">Message</label>
            <textarea id="message" formControlName="message" rows="5" placeholder="Tell me about your project..."
              [class.error]="contactForm.get('message')?.invalid && contactForm.get('message')?.touched"></textarea>
          </div>

          <button type="submit" class="submit-btn" [disabled]="contactForm.invalid">
            Send Message <i class="fa-regular fa-paper-plane"></i>
          </button>
        </form>
      </div>

      <!-- Contact Info -->
      <div class="contact-info-container animate__animated animate__fadeInRight">
        <h3>Contact Information</h3>
        <p class="info-text">Open for opportunities. Let's connect.</p>

        <div class="info-item" *ngIf="emailContact">
          <div class="icon-box">
            <i [class]="emailContact.iconStyle"></i>
          </div>
          <div class="info-content">
            <span class="label">Email</span>
            <a [href]="emailContact.link" class="value">{{ emailContact.link.replace('mailto:', '') }}</a>
          </div>
        </div>

        <div class="info-item">
          <div class="icon-box">
            <i class="fa-solid fa-location-dot"></i>
          </div>
          <div class="info-content">
            <span class="label">Location</span>
            <span class="value">India</span>
          </div>
        </div>

        <div class="social-links mt-4">
          <h4>Follow Me</h4>
          <div class="social-icons">
            @for (contact of contacts; track contact.name){
            @if (!contact.name.toLowerCase().includes('mail')) {
            <a [href]="contact.link" [title]="contact.title" target="_blank" rel="noopener" class="social-btn">
              @if (contact.iconImageUrl) {
              <img [src]="contact.iconImageUrl" alt="contact.title" class="icon" width="24" height="24">
              }
              @else {
              <i [class]="contact.iconStyle"></i>
              }
            </a>
            }
            }
          </div>
        </div>

        <div class="resume-section mt-4" *ngIf="resume">
          <a [href]="resume.file" download class="download-resume-btn">
            Download Resume <i class="fa-solid fa-download"></i>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>